window.__require=function t(e,i,s){function o(c,a){if(!i[c]){if(!e[c]){var r=c.split("/");if(r=r[r.length-1],!e[r]){var h="function"==typeof __require&&__require;if(!a&&h)return h(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+c+"'")}}var p=i[c]={exports:{}};e[c][0].call(p.exports,function(t){return o(e[c][1][t]||t)},p,p.exports,t,e,i,s)}return i[c].exports}for(var n="function"==typeof __require&&__require,c=0;c<s.length;c++)o(s[c]);return o}({cow:[function(t,e,i){"use strict";cc._RF.push(e,"13051LGtW5PYL9bKMLPgK2f","cow");var s=cc.Class({name:"cowSkin",properties:{cowAnimate:{type:cc.SpriteFrame,default:[]}}});cc.Class({extends:cc.Component,properties:{cowSkinType:{type:s,default:[]}},onLoad:function(){this.animCow=this.node.addComponent("frame_anim"),this.cowType=Math.floor(3*Math.random()),this.cowPlay(),this.cowSpeed=-(300*Math.random()+200)},cowPlay:function(){this.gameScene=cc.find("Canvas").getComponent("gameScene"),this.animCow.sprite_frames=this.cowSkinType[this.cowType].cowAnimate,this.animCow.duration=.2,this.animCow.play_loop()},start:function(){},update:function(t){var e=this.cowSpeed*t;this.node.x+=e,this.node.x<-520&&(this.removeFromCowGet(this.node),this.node.removeFromParent())},removeFromCowGet:function(t){var e=this.gameScene.cowGet.indexOf(t);this.gameScene.cowGet.splice(e,1)}}),cc._RF.pop()},{}],frame_anim:[function(t,e,i){"use strict";cc._RF.push(e,"6b885eJ5ppNiZDYeQ/Qo0bj","frame_anim"),cc.Class({extends:cc.Component,properties:{sprite_frames:{default:[],type:cc.SpriteFrame},duration:.1,loop:!1,play_onload:!1},onLoad:function(){var t=this.node.getComponent(cc.Sprite);t||(t=this.node.addComponent(cc.Sprite)),this.sprite=t,this.is_playing=!1,this.play_time=0,this.is_loop=!1,this.end_func=null,this.play_onload&&(this.sprite.spriteFrame=this.sprite_frames[0],this.loop?this.play_loop():this.play_once(null))},play_once:function(t){this.play_time=0,this.is_playing=!0,this.is_loop=!1,this.end_func=t},play_loop:function(){this.play_time=0,this.is_playing=!0,this.is_loop=!0},stop_anim:function(){this.play_time=0,this.is_playing=!1,this.is_loop=!1},start:function(){},update:function(t){if(!1!==this.is_playing){this.play_time+=t;var e=Math.floor(this.play_time/this.duration);if(!1===this.is_loop){if(e>=this.sprite_frames.length)return this.sprite.spriteFrame=this.sprite_frames[this.sprite_frames.length-1],this.is_playing=!1,this.play_time=0,void(this.end_func&&this.end_func());this.sprite.spriteFrame=this.sprite_frames[e]}else{for(;e>=this.sprite_frames.length;)e-=this.sprite_frames.length,this.play_time-=this.duration*this.sprite_frames.length;this.sprite.spriteFrame=this.sprite_frames[e]}}}}),cc._RF.pop()},{}],gameScene:[function(t,e,i){"use strict";cc._RF.push(e,"3f5a8+m5r9OxIPzwJyjnJXk","gameScene");var s=["5\u5143\u5170\u535a\u57fa\u5c3c\u8d2d\u8f66\u62b5\u7528\u5238","\u5c1a\u7814500\u5143\u52a9\u5b66\u91d1","\u4e5d\u5757\u4e5d\u6d3b\u52a8\u6ee110\u51cf5\u5238"];cc.Class({extends:cc.Component,properties:{cowPrefab:{type:cc.Prefab,default:null}},onLoad:function(){this.scoreVal=0,this.score=cc.find("Canvas/score/scoreVal").getComponent(cc.Label),this.timeVal=60,this.time=cc.find("Canvas/time/timeVal").getComponent(cc.Label),this.check=cc.find("Canvas/check"),this.lastScore=cc.find("Canvas/check/scoreBoard/lastScore").getComponent(cc.Label),this.lastDesc=cc.find("Canvas/check/scoreBoard/desc").getComponent(cc.Label),this.cowPosition={x:520,y:-120},this.cowGet=[],this.isStart=!1,this.startGame()},start:function(){this.node.getChildByName("rope").zIndex=1e3,this.node.getChildByName("startBtn").zIndex=2e3,this.check.zIndex=3e3},update:function(t){},countdown:function(){if(this.timeVal--,this.timeVal<0)return this.unscheduleAllCallbacks(),this.isStart=!1,void this.checkoutFn();this.time.string=this.timeVal.toString(),this.scheduleOnce(this.countdown.bind(this),1)},checkoutFn:function(){this.check.active=!0,this.lastScore.string=this.scoreVal.toString(),this.lastDesc.string=s[Math.floor(3*Math.random())]},startGame:function(){this.isStart||(this.isStart=!0,this.check.active=!1,this.scoreVal=0,this.score.string=this.scoreVal.toString(),this.timeVal=60,this.time=cc.find("Canvas/time/timeVal").getComponent(cc.Label),this.unscheduleAllCallbacks(),this.generatCow(),this.scheduleOnce(this.countdown.bind(this),1))},generatCow:function(){var t=cc.instantiate(this.cowPrefab);this.node.addChild(t),t.active=!0,t.setPosition(this.cowPosition.x,this.cowPosition.y),this.cowGet.push(t),this.scheduleOnce(this.generatCow.bind(this),3*Math.random()+2)},hitCow:function(){for(var t=-1,e=0;e<this.cowGet.length;e++)if(this.cowGet[e].x>=70&&this.cowGet[e].x<=190)return t=this.cowGet[e].getComponent("cow").cowType,this.cowGet[e].removeFromParent(),this.cowGet.splice(e,1),this.scoreVal++,this.score.string=this.scoreVal.toString(),cc.loader.loadRes("mou",cc.AudioClip,function(t,e){cc.audioEngine.play(e)}),t;return-1}}),cc._RF.pop()},{}],rope:[function(t,e,i){"use strict";cc._RF.push(e,"ad044KkoJhOBYgq/j88fwY6","rope"),cc.Class({extends:cc.Component,properties:{ropeEmpty:{type:cc.SpriteFrame,default:null},ropeCow:{type:cc.SpriteFrame,default:[]}},onLoad:function(){this.gameScene=cc.find("Canvas").getComponent("gameScene"),this.effect=this.node.getChildByName("effect").getComponent(cc.ParticleSystem),this.isShooting=!1,this.node.x=0,this.node.y=-550},setRopeEmpty:function(){this.node.getComponent(cc.Sprite).spriteFrame=this.ropeEmpty},setRopeCow:function(t){t<0||t>2||(this.node.getComponent(cc.Sprite).spriteFrame=this.ropeCow[t])},stopEffect:function(){this.effect.stopSystem()},shootRopeOut:function(){var t=this;if(!this.isShooting){this.unschedule(this.stopEffect.bind(this)),this.isShooting=!0;var e=cc.moveTo(.5,0,-60),i=cc.callFunc(function(){var e=t.gameScene.hitCow();e>=0&&e<=2&&(t.node.y=42,t.effect.resetSystem(),t.scheduleOnce(t.stopEffect.bind(t),.05),t.setRopeCow(e))},this.node),s=cc.moveTo(.7,0,-560),o=cc.callFunc(function(){t.setRopeEmpty(),t.isShooting=!1},this.node),n=cc.sequence([e,i,s,o]);this.node.runAction(n)}},start:function(){this.stopEffect()}}),cc._RF.pop()},{}]},{},["cow","frame_anim","gameScene","rope"]);